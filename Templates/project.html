<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
    <head>
        <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
        <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link href="{% static 'css/main.css' %}" rel="stylesheet">
        <link href="{% static 'css/project.css' %}" rel="stylesheet">
        <script src="{% static 'js/main.js' %}"></script>
        <meta charset="UTF-8">
        <title>项目</title>
    </head>
    <body>

        <div class="container">

            <div class="header_container">
                <div class="row">
                    <div class="col-md-8"></div>
                    <div class="col-md-4">
                        侯洋
                        <a type="button" data-toggle="modal" data-target=".forgot-modify-password-modal">修改密码</a>
                        <a href="login.html">退出登录</a>
                    </div>
                </div>
            </div>

            <div class="title"><h1>路书研发部项目管理</h1></div>

            <ul class="nav nav-tabs">
                <li role="presentation" class="active"><a href="./project.html">项目</a></li>
                <li role="presentation"><a href="./team.html">团队</a></li>
                <li role="presentation"><a href="kpi-team.html">绩效管理</a></li>
            </ul>

            <div class="row">
                <div class="col-md-8">
                    <div class="input-group search">
                        <span class="input-group-addon" id="sizing-addon2"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></span>
                        <input type="text" class="form-control" placeholder="请输入项目名称" aria-describedby="sizing-addon2">
                    </div>
                </div>
                <div class="col-md-4">
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".create-project-modal">新建项目</button>
                </div>
            </div>

            <div class="dateContainer">
                起止时间：
                <select class="form-control dateSelect">
                    <option>2016</option>
                    <option>2017</option>
                    <option>2018</option>
                    <option>2019</option>
                    <option>2020</option>
                </select>
                <select class="form-control dateSelect">
                    <option>1月</option>
                    <option>2月</option>
                    <option>3月</option>
                    <option>4月</option>
                    <option>5月</option>
                    <option>6月</option>
                    <option>7月</option>
                    <option>8月</option>
                    <option>9月</option>
                    <option>10月</option>
                    <option>11月</option>
                    <option>12月</option>
                </select>
                ～
                <select class="form-control dateSelect">
                    <option>2016</option>
                    <option>2017</option>
                    <option>2018</option>
                    <option>2019</option>
                    <option>2020</option>
                </select>
                <select class="form-control dateSelect">
                    <option>1月</option>
                    <option>2月</option>
                    <option>3月</option>
                    <option>4月</option>
                    <option>5月</option>
                    <option>6月</option>
                    <option>7月</option>
                    <option>8月</option>
                    <option>9月</option>
                    <option>10月</option>
                    <option>11月</option>
                    <option>12月</option>
                </select>
                <span class="pm">项目经理：</span>
                <select class="form-control dateSelect">
                    <option>全部</option>
                    {% for manager in all_managers %}
                        <option>{{ manager }}</option>
                    {% endfor %}
                </select>
                <button type="button" class="btn btn-primary" href="?start=2018-2-10&end=2018-3-20&manager=''">搜索</button>
            </div>

            <table class="table table-bordered table-hover">
                <thead >
                <tr>
                    <th>项目名称</th>
                    <th>项目经理</th>
                    <th>项目状态</th>
                    <th>起止时间</th>
                </tr>
                </thead>
                <tbody>
                {% for project in all_project.object_list %}
                    <tr>
                    <th scope="row"><a href="project-detail.html">{{ project.name }}</a></th>
                    <td>{{ project.manager.username }}</td>
                    <td>{{ project.get_status_display }}</td>
                    <td>{{ project.start_time }} - {{ project.end_time }}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>

        {% if all_project.has_previous %}
        <a href="?{{ all_project.previous_page_number.querystring }}" class="prev">&lsaquo;&lsaquo; 前一页</a>
    {% else %}
        <span class="disabled prev">&lsaquo;&lsaquo; 前一页</span>
    {% endif %}
    {% for page in all_project.pages %}
        {% if page %}
            {% ifequal page all_project.number %}
                <span class="current page">{{ page }}</span>
            {% else %}
                <a href="?{{ page.querystring }}" class="page">{{ page }}</a>
            {% endifequal %}
        {% else %}
            ...
        {% endif %}
    {% endfor %}
    {% if all_project.has_next %}
        <a href="?{{ all_project.next_page_number.querystring }}" class="next">下一页 &rsaquo;&rsaquo;</a>
    {% else %}
        <span class="disabled next">下一页 &rsaquo;&rsaquo;</span>
    {% endif %}
{#            <nav aria-label="Page navigation">#}
{#                <ul class="pagination">#}
{#                    <li>#}
{#                        <a href="#" aria-label="Previous">#}
{#                            <span aria-hidden="true">&laquo;</span>#}
{#                        </a>#}
{#                    </li>#}
{#                    <li><a href="#">1</a></li>#}
{#                    <li><a href="#">2</a></li>#}
{#                    <li><a href="#">3</a></li>#}
{#                    <li><a href="#">4</a></li>#}
{#                    <li><a href="#">5</a></li>#}
{#                    <li>#}
{#                        <a href="#" aria-label="Next">#}
{#                            <span aria-hidden="true">&raquo;</span>#}
{#                        </a>#}
{#                    </li>#}
{#                </ul>#}
{#            </nav>#}

        </div> <!-- /container -->

        <!-- create project -->
        <div class="modal fade create-project-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title title" id="createProjectModalLabel">新建项目</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label for="projectName" class="col-md-3 control-label">项目名称：</label>
                                <div class="col-sm-3">
                                    <input class="form-control" id="projectName">
                                </div>
                                <label for="projectDate" class="col-md-3 control-label">创建时间：</label>
                                <div class="col-sm-3">
                                    <input class="form-control" id="projectDate">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="projectPm" class="col-md-3 control-label">项目经理：</label>
                                <div class="col-sm-3">
                                    <input class="form-control" id="projectPm">
                                </div>
                                <label for="projectStatus" class="col-md-3 control-label">项目状态：</label>
                                <div class="col-sm-3">
                                    <select class="form-control projectStatus" id="projectStatus">
                                        <option>执行</option>
                                        <option>验收</option>
                                        <option>发布</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-6">
                                    <a class="btn btn-sm btn-primary btn-block" href="javascript:void(0)">确定</a>
                                </div>
                                <div class="col-sm-6">
                                    <a class="btn btn-sm btn-primary btn-block" href="javascript:void(0)">取消</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- modify password -->
        <div class="modal fade forgot-modify-password-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <h4 class="modal-title title" id="mySmallModalLabel">修改密码</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label for="inputPassword1" class="col-md-3 control-label">个人邮箱：</label>
                                <div class="col-sm-9">asdfasdf@lushu.com</div>
                            </div>
                            <div class="form-group">
                                <label for="inputPassword1" class="col-md-3 control-label">原密码：</label>
                                <div class="col-sm-9">
                                    <input type="password" class="form-control" id="inputPassword1">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputPassword2" class="col-sm-3 control-label">新密码：</label>
                                <div class="col-sm-9">
                                    <input type="password" class="form-control" id="inputPassword2">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputPassword3" class="col-sm-3 control-label">确认新密码：</label>
                                <div class="col-sm-9">
                                    <input type="password" class="form-control" id="inputPassword3">
                                </div>
                            </div>
                            <div>
                                <a class="btn btn-lg btn-primary btn-block" href="javascript:modifyPassword()">保存</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>


        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
        <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
        <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"
                integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
                crossorigin="anonymous"></script>
        <script src="{% static 'js/bootstrap-datepicker.js' %}"></script>

    </body>
</html>
